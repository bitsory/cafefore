<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- <meta name="viewport" content="width=device-width"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">
    <link rel="stylesheet" href="style.css">
	<title>Cafe FORE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Sofia+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Jost:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        *{
            /* font-family: 'Sofia Sans', sans-serif; */
            /* font-family: 'Quicksand', sans-serif; */
            font-family: 'Jost', sans-serif;
        }
    </style>
    <script src="https://kit.fontawesome.com/28a6158b48.js" crossorigin="anonymous"></script>
    
    <link rel="icon" href="/cafeFORE/images/logo.png">
</head>
<body>
    <nav class="navbar">
        <div class="navbar_or">
            <div class="navbar_w4">
                <div class="navbar_logo">
                    <a href="javascript:;" class="logo_btn"></a>
                    <!-- <a href="./cafeFORE">Cafe FORE</a> -->
                </div>

                <a href="javascript:;" class="navbar_toggleBtn">
              
                </a>
        <!-- </div> -->
            </div>
            <ul class="navbar_nav_list">
                <li><a href="/" data-link>HOME</a></li>
                <li><a href="/about" data-link>ABOUT</a></li>
                <li><a href="/menu" data-link>MENU</a></li>                
                <li><a href="/contact" data-link>CONTACT</a></li>
            </ul>

            <div class="navbar_icons">
                <a href="0"><i class="fab fa-facebook"></i></a>
                <a href="0"><i class="fab fa-instagram"></i></a>


            </div>
        </div>
    </nav>

    <section class="main">
      
        
        <div class="main_background">
            <div class="mainback1"></div>
        

        </div>

            <div class="lorem">
            
        </div>

               
        
       
    </section>
    <!-- <a href='tel:470-263-6495'>전화하기</a> -->

    <section class="footer">
        <div class="footer_first">
            <div class="footer_left">
                <div class="foot_address">
                    <br>
                    <span><i aria-hidden="true" class="fas fa-map-marker-alt"></i></span>
                    <span><bold>LOCATION.</bold></span><br>
                    <div class="foot_adr">
                    4400 Roswell RD Ste 126<br>
                    Inside LA Fitness<br>
                    Marietta, GA 30062<br><br>
                    
                    <span>
                        <i aria-hidden="true" class="fas fa-phone-alt"></i></span>
                        <span>(470) 263-6495</span><br></div>
                </div>   
    
            </div>
            <div class="footer_mid">
                <div class="foot_hours">
                    
                    <br>
                    <span><i aria-hidden="true" class="fas fa-clock"></i></span>
                    <span><bold>HOURS.</bold></span><br>
                    
                    <div class="foot_hr">
                    Monday - Friday<br>
                    11am - 8pm<br>  
                    Satday - Sunday<br>
                    12 - 6pm<br>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer_second">
            <div class="footer_mid2">
                <div class="foot_icons">
                    <a href="facebook.com" style="padding-right: 2rem;"><i class="fab fa-facebook"></i></a>
                    <a href="insta"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
    
            <div class="footer_right">
                <div class="logo_btn"></div>                
            </div>
        </div>        
    </section>
	<script type="text/javascript">
        
        function myMap() {

            var cafefore = {lat: 33.984700531945414, lng: -84.42266277698947};
            
            mapOptions = { 
                    center:new google.maps.LatLng(33.984700531945414, -84.42266277698947),
                    zoom: 16,
                    mapTypeControl: false,                    
                    streetViewControl: false,                    
            }

            map = new google.maps.Map( 
                document.getElementById("googleMap") 
                , mapOptions);

            var marker = new google.maps.Marker({position: cafefore, map: map});
        }
                                    

        
            // get all data in form and return object
        function getFormData(form) {        
            
            var elements = form.elements;
            var honeypot;

            console.log(elements);
            console.log(form);
            console.log(Object.keys);
            var fields = Object.keys(elements).filter(function(k) {
                console.log(k);
                console.log(elements[k].name);
                //console.log(fields);

                if (elements[k].name === "honeypot") {
                    honeypot = elements[k].value;
                    return false;
                }
                console.log(fields);
                
                return true;
                }).map(function(k) {
                    console.log("true");

                    if(elements[k].name !== undefined) {
                        console.log(`elements[k].name: ${elements[k].name}`);
                    return elements[k].name;
                    // special case for Edge's html collection
                    }else if(elements[k].length > 0){
                    return elements[k].item(0).name;
                    }
                }).filter(function(item, pos, self) {
                    console.log(`item : ${item} pos: ${pos} self:${self}`);
                    console.log(`self.indexOf(item): ${self.indexOf(item)}`);
                    return self.indexOf(item) == pos && item;
                });

            console.log(`fields: ${fields}`);

            var formData = {};
            
            fields.forEach(function(name){
                var element = elements[name];
                
                // singular form elements just have one value
                formData[name] = element.value;

                // when our element has multiple items, get their values
                if (element.length) {
                var data = [];
                for (var i = 0; i < element.length; i++) {
                    var item = element.item(i);
                    if (item.checked || item.selected) {
                        data.push(item.value);
                    }
                }
                formData[name] = data.join(', ');
                }
                console.log(`formData: ${formData[name]}`);
            });

            // add form-specific values into the data
            formData.formDataNameOrder = JSON.stringify(fields);
            formData.formGoogleSheetName = form.dataset.sheet || "responses"; // default sheet name
            formData.formGoogleSendEmail = form.dataset.email || ""; // no email by default

            return {data: formData, honeypot: honeypot};
        }

        function handleFormSubmit(event) {  // handles form submit without any jquery
            console.log(event);
            event.preventDefault();           // we are submitting via xhr below
            var form = event.target;
            var formData = getFormData(form);
            console.log(`formData: ${JSON.stringify(formData)}`);
            var data = formData.data;
            console.log(`data: ${JSON.stringify(data)}`);

            // If a honeypot field is filled, assume it was done so by a spam bot.
            if (formData.honeypot) {
                return false;
            }

            disableAllButtons(form);
            var url = form.action;
            var xhr = new XMLHttpRequest();
            console.log(`xhr : ${xhr}`);
            console.log(`xhr : ${JSON.stringify(xhr)}`);
            xhr.open('POST', url);
            // xhr.withCredentials = true;
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log("form reset before");
                    form.reset();
                    console.log("form reset after");
                    var formElements = form.querySelector(".form-elements")
                    console.log(`formElements : ${formElements}`);

                    if (formElements) {
                        formElements.style.display = "none"; // hide form
                    }
                    var thankYouMessage = document.querySelector(".thankyou_message");
                    if (thankYouMessage) {
                        thankYouMessage.style.display = "block";
                        
                    }
                }
            };
            // url encode form data for sending as post data
            var encoded = Object.keys(data).map(function(k) {
                return encodeURIComponent(k) + "=" + encodeURIComponent(data[k]);
            }).join('&');
            console.log(`xhr : ${xhr}`);
            console.log(`xhr : ${JSON.stringify(xhr)}`);
            console.log(`encoded: ${encoded}`);
            xhr.send(encoded);
        }
                
        function loaded() {
            // bind to the submit event of our form
            var forms = document.querySelectorAll("form.gform");
            console.log(`forms : ${JSON.stringify(forms)}`);
            for (var i = 0; i < forms.length; i++) {
                forms[i].addEventListener("submit", handleFormSubmit, false);
                console.log(`forms : ${JSON.stringify(forms)}`);
            }
        };

        function load2() {
            console.log("DOMContentLoaded");
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            loaded();
            load2();
        },  false);

        function disableAllButtons(form) {
            var contact_email_form = document.querySelector(".contact_email_form");

            contact_email_form.style.display = "none";                
        }
    
    </script>
    
    <script type="module" src="index.js"></script>
    
</body>
</html>